{"id":"components/device.js","dependencies":[{"name":"/Users/ma20195/Desktop/lab/responsive-preview/.babelrc","includedInParent":true,"mtime":1553158651739},{"name":"/Users/ma20195/Desktop/lab/responsive-preview/package.json","includedInParent":true,"mtime":1553158678241},{"name":"preact","loc":{"line":1,"column":29},"parent":"/Users/ma20195/Desktop/lab/responsive-preview/src/components/device.js","resolved":"/Users/ma20195/Desktop/lab/responsive-preview/node_modules/preact/dist/preact.mjs"},{"name":"preact-custom-scrollbars","loc":{"line":2,"column":27},"parent":"/Users/ma20195/Desktop/lab/responsive-preview/src/components/device.js","resolved":"/Users/ma20195/Desktop/lab/responsive-preview/node_modules/preact-custom-scrollbars/lib/index.js"},{"name":"./iframeHeight","loc":{"line":3,"column":28},"parent":"/Users/ma20195/Desktop/lab/responsive-preview/src/components/device.js","resolved":"/Users/ma20195/Desktop/lab/responsive-preview/src/components/iframeHeight.js"}],"generated":{"js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Device = void 0;\n\nvar _preact = require(\"preact\");\n\nvar _preactCustomScrollbars = require(\"preact-custom-scrollbars\");\n\nvar _iframeHeight = _interopRequireDefault(require(\"./iframeHeight\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nvar Device =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Device, _Component);\n\n  function Device(props) {\n    var _this;\n\n    _classCallCheck(this, Device);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Device).call(this, props));\n    _this.frameLoad = _this.frameLoad.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(Device, [{\n    key: \"frameLoad\",\n    value: function frameLoad() {\n      this.setState({\n        frameHeight: (0, _iframeHeight.default)(this.iframe.contentWindow) + \"px\"\n      });\n      this.scaleIt();\n    }\n  }, {\n    key: \"scaleIt\",\n    value: function scaleIt() {\n      var scale = Math.min(this.wrapper.offsetWidth / this.viewport.offsetWidth, this.wrapper.offsetHeight / this.viewport.offsetHeight);\n      var fitOption = Math.round(scale * 100);\n      this.props.updateParent('fitOption', fitOption);\n\n      if (scale < 1) {\n        this.wrapper.classList.add(\"scaled\");\n        this.props.updateParent('zoom', Math.round(scale * 100));\n      } else {\n        this.wrapper.classList.remove(\"scaled\");\n        this.props.updateParent('zoom', 100);\n      }\n    }\n  }, {\n    key: \"renderClassName\",\n    value: function renderClassName() {\n      var noframe = this.props.showDevice ? \" \" : \"no-device \";\n      var landscape = this.props.landscape ? \"landscape \" : \"\";\n      return \"viewport marvel-device \" + noframe + landscape + \" \" + this.props.color + \" \" + this.props.device;\n    }\n  }, {\n    key: \"render\",\n    value: function render(props, state) {\n      var _this2 = this;\n\n      return (0, _preact.h)(\"div\", {\n        className: \"wrapper\",\n        ref: function ref(wrapper) {\n          return _this2.wrapper = wrapper;\n        }\n      }, (0, _preact.h)(\"div\", {\n        className: this.renderClassName(),\n        style: {\n          transform: \"translate(-50%, -50%) \" + \"scale(\" + props.zoom / 100 + \")\"\n        },\n        ref: function ref(viewport) {\n          return _this2.viewport = viewport;\n        }\n      }, (0, _preact.h)(\"div\", {\n        className: \"notch\"\n      }, (0, _preact.h)(\"div\", {\n        className: \"camera\"\n      }), (0, _preact.h)(\"div\", {\n        className: \"speaker\"\n      })), (0, _preact.h)(\"div\", {\n        className: \"top-bar\"\n      }), (0, _preact.h)(\"div\", {\n        className: \"sleep\"\n      }), (0, _preact.h)(\"div\", {\n        className: \"volume\"\n      }), (0, _preact.h)(\"div\", {\n        className: \"overflow\"\n      }, (0, _preact.h)(\"div\", {\n        className: \"shadow shadow--tr\"\n      }), (0, _preact.h)(\"div\", {\n        className: \"shadow shadow--tl\"\n      }), (0, _preact.h)(\"div\", {\n        className: \"shadow shadow--br\"\n      }), (0, _preact.h)(\"div\", {\n        className: \"shadow shadow--bl\"\n      })), (0, _preact.h)(\"div\", {\n        className: \"inner-shadow\"\n      }), (0, _preact.h)(\"div\", {\n        className: \"sensors\"\n      }), (0, _preact.h)(\"div\", {\n        className: \"more-sensors\"\n      }), (0, _preact.h)(\"div\", {\n        className: \"inner\"\n      }), (0, _preact.h)(\"div\", {\n        className: \"camera\"\n      }), (0, _preact.h)(\"div\", {\n        className: \"sensor\"\n      }), (0, _preact.h)(\"div\", {\n        className: \"speaker\"\n      }), (0, _preact.h)(\"div\", {\n        className: \"screen\",\n        id: \"screen\",\n        ref: function ref(screen) {\n          return _this2.screen = screen;\n        }\n      }, (0, _preact.h)(_preactCustomScrollbars.Scrollbars, {\n        autoHide: true\n      }, (0, _preact.h)(\"iframe\", {\n        src: props.frame,\n        onLoad: this.frameLoad,\n        style: {\n          height: state.frameHeight\n        },\n        ref: function ref(iframe) {\n          return _this2.iframe = iframe;\n        }\n      }))), (0, _preact.h)(\"div\", {\n        className: \"home\"\n      }), (0, _preact.h)(\"div\", {\n        className: \"bottom-bar\"\n      })));\n    }\n  }]);\n\n  return Device;\n}(_preact.Component);\n\nexports.Device = Device;"},"sourceMaps":null,"error":null,"hash":"b834b3b63fb906e0f15c8212d60dfb4a","cacheData":{"env":{}}}